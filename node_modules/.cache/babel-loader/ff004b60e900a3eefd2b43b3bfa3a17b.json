{"ast":null,"code":"import _slicedToArray from\"/var/www/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect}from'react';import{useSpring,animated,to}from'@react-spring/web';import{useGesture}from'react-use-gesture';import Face from\"../../img/self-portrait.jpg\";import styles from'./styles/tilted.module.css';var url=\"https://images.unsplash.com/photo-1640195516482-aaab6c242863?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80\";var calcX=function calcX(y,ly){return-(y-ly-window.innerHeight/2)/20;};var calcY=function calcY(x,lx){return(x-lx-window.innerWidth/2)/20;};var wheel=function wheel(y){var imgHeight=window.innerWidth*0.3-20;return\"translateY(\".concat(-imgHeight*(y<0?6:1)-y%(imgHeight*5),\"px\");};export default function Tilted(image){useEffect(function(){var preventDefault=function preventDefault(e){return e.preventDefault();};document.addEventListener('gesturestart',preventDefault);document.addEventListener('gesturechange',preventDefault);return function(){document.removeEventListener('gesturestart',preventDefault);document.removeEventListener('gesturechange',preventDefault);};},[]);var domTarget=useRef(null);var _useSpring=useSpring(function(){return{rotateX:0,rotateY:0,rotateZ:0,scale:1,zoom:0,x:0,y:0,config:{mass:5,tension:500,friction:30}};}),_useSpring2=_slicedToArray(_useSpring,2),_useSpring2$=_useSpring2[0],x=_useSpring2$.x,y=_useSpring2$.y,rotateX=_useSpring2$.rotateX,rotateY=_useSpring2$.rotateY,rotateZ=_useSpring2$.rotateZ,zoom=_useSpring2$.zoom,scale=_useSpring2$.scale,api=_useSpring2[1];var _useSpring3=useSpring(function(){return{wheelY:0};}),_useSpring4=_slicedToArray(_useSpring3,2),wheelY=_useSpring4[0].wheelY,wheelApi=_useSpring4[1];useGesture({onMove:function onMove(_ref){var _ref$xy=_slicedToArray(_ref.xy,2),px=_ref$xy[0],py=_ref$xy[1],dragging=_ref.dragging;return!dragging&&api({rotateX:calcX(py,y.get()),rotateY:calcY(px,x.get()),scale:1.15});},onHover:function onHover(_ref2){var hovering=_ref2.hovering;return!hovering&&api({rotateX:0,rotateY:0,scale:1});},onWheel:function onWheel(_ref3){var event=_ref3.event,_ref3$offset=_slicedToArray(_ref3.offset,2),y=_ref3$offset[1];event.preventDefault();wheelApi.set({wheelY:y});}},{domTarget:domTarget,eventOptions:{passive:false}});return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(animated.div,{ref:domTarget,className:styles.card,style:{transform:'perspective(600px)',x:x,y:y,scale:to([scale,zoom],function(s,z){return s+z;}),rotateX:rotateX,rotateY:rotateY,rotateZ:rotateZ,backgroundImage:\"url(https://i.ibb.co/GnKV42X/profile.png)\"}},/*#__PURE__*/React.createElement(animated.div,{style:{transform:wheelY.to(wheel)}})));}","map":{"version":3,"sources":["/var/www/portfolio/src/components/Home/Tilted.js"],"names":["React","useRef","useEffect","useSpring","animated","to","useGesture","Face","styles","url","calcX","y","ly","window","innerHeight","calcY","x","lx","innerWidth","wheel","imgHeight","Tilted","image","preventDefault","e","document","addEventListener","removeEventListener","domTarget","rotateX","rotateY","rotateZ","scale","zoom","config","mass","tension","friction","api","wheelY","wheelApi","onMove","xy","px","py","dragging","get","onHover","hovering","onWheel","event","offset","set","eventOptions","passive","container","card","transform","s","z","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react'\nimport { useSpring, animated, to } from '@react-spring/web'\nimport { useGesture } from 'react-use-gesture'\nimport Face from \"../../img/self-portrait.jpg\"\nimport styles from './styles/tilted.module.css'\n\nconst url = \"https://images.unsplash.com/photo-1640195516482-aaab6c242863?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80\"\nconst calcX = (y, ly) => -(y - ly - window.innerHeight / 2) / 20\nconst calcY = (x, lx) => (x - lx - window.innerWidth / 2) / 20\n\nconst wheel = (y) => {\n  const imgHeight = window.innerWidth * 0.3 - 20\n  return `translateY(${-imgHeight * (y < 0 ? 6 : 1) - (y % (imgHeight * 5))}px`\n}\n\nexport default function Tilted(image) {\n  useEffect(() => {\n    const preventDefault = (e) => e.preventDefault()\n    document.addEventListener('gesturestart', preventDefault)\n    document.addEventListener('gesturechange', preventDefault)\n\n    return () => {\n      document.removeEventListener('gesturestart', preventDefault)\n      document.removeEventListener('gesturechange', preventDefault)\n    }\n  }, [])\n\n  const domTarget = useRef(null)\n  const [{ x, y, rotateX, rotateY, rotateZ, zoom, scale }, api] = useSpring(\n    () => ({\n      rotateX: 0,\n      rotateY: 0,\n      rotateZ: 0,\n      scale: 1,\n      zoom: 0,\n      x: 0,\n      y: 0,\n      config: { mass: 5, tension: 500, friction: 30 },\n    })\n  )\n\n  const [{ wheelY }, wheelApi] = useSpring(() => ({ wheelY: 0 }))\n\n  useGesture(\n    {\n\n      onMove: ({ xy: [px, py], dragging }) =>\n        !dragging &&\n        api({\n          rotateX: calcX(py, y.get()),\n          rotateY: calcY(px, x.get()),\n          scale: 1.15,\n        }),\n      onHover: ({ hovering }) =>\n        !hovering && api({ rotateX: 0, rotateY: 0, scale: 1 }),\n      onWheel: ({ event, offset: [, y] }) => {\n        event.preventDefault()\n        wheelApi.set({ wheelY: y })\n      },\n    },\n    { domTarget, eventOptions: { passive: false } }\n  )\n  return (\n    <div className={styles.container}>\n      <animated.div\n        ref={domTarget}\n        className={styles.card}\n        style={{\n          transform: 'perspective(600px)',\n          x,\n          y,\n          scale: to([scale, zoom], (s, z) => s + z),\n          rotateX,\n          rotateY,\n          rotateZ,\n          backgroundImage: \"url(https://i.ibb.co/GnKV42X/profile.png)\"\n        }}\n       \n        >\n        <animated.div style={{ transform: wheelY.to(wheel) }}>\n            {/* <div key={1} style={{ backgroundImage: `url(${url})` }} /> */}\n            {/* <img src={Face} style={{zIndex: \"10000\", backgroundImage: `url(${Face})`}}/> */}\n        </animated.div>\n      </animated.div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}